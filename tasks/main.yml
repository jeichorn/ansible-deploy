---
- include: github-release.yml
  when: dfg_github_type == "release"

- include: github-branch.yml
  when: dfg_github_type != "release"

- include: setup.yml

- include: check.yml

- include: download.yml
  when: dfg_deploy_needed == true and dfg_github_type == "release"

- include: git.yml
  when: dfg_deploy_needed == true and dfg_github_type != "release"

- name: dfg | Execute "Build" Tasks
  include: "{{ dfg_build_hook | default('empty.yml') }}"
  when: dfg_deploy_needed == true

- include: deploy.yml
  when: dfg_deploy_needed == true

- include: symlink.yml
  when: dfg_deploy_needed == true

- name: dfg | Execute "AFTER" Tasks
  include: "{{ dfg_after_hook | default('empty.yml') }}"
  when: dfg_deploy_needed == true

- include: prune.yml
  when: dfg_deploy_needed == true
